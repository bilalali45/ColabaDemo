import { DocumentRequest } from "../../../entities/Models/DocumentRequest";
import { Document } from "../../../entities/Models/Document";
import { FileUpload } from "../../../utils/helpers/FileUpload";

export const seedData = [
    {
        "id": "5f3e259db821542b2841e37b",
        "requestId": "5f450c0860b6782ac07de6ed",
        "docId": "5f450c0860b6782ac07de6ee",
        "docName": "Alimony Income Verification",
        "status": "Pending review",
        "createdOn": "2020-08-25T13:03:04.772Z",
        "files": [
            {
                "id": "5f460e2f9863a30474056ef4",
                "clientName": "sample.pdf",
                "fileUploadedOn": "2020-08-26T07:24:31.978Z",
                "mcuName": "",
                "byteProStatus": "Synchronized",
                "isRead": true,
                "status": null
            }
        ],
        "typeId": "5eec89cd6ecaea4247964038",
        "userName": "Shehroz Riyaz"
    },
    {
        "id": "5f3e259db821542b2841e37b",
        "requestId": "5f45040260b6782ac07de6ad",
        "docId": "5f45040260b6782ac07de6b2",
        "docName": "Bank Statement",
        "status": "Pending review",
        "createdOn": "2020-08-25T12:28:50.165Z",
        "files": [
            {
                "id": "5f450ac160b6782ac07de6ea",
                "clientName": "nature.jpg",
                "fileUploadedOn": "2020-08-25T12:57:37.829Z",
                "mcuName": "",
                "byteProStatus": "Synchronized",
                "isRead": true,
                "status": null
            },
            {
                "id": "5f450c4560b6782ac07de6f7",
                "clientName": "nature-02.jpg",
                "fileUploadedOn": "2020-08-25T13:04:05.658Z",
                "mcuName": "",
                "byteProStatus": "Synchronized",
                "isRead": true,
                "status": null
            },
            {
                "id": "5f450cd160b6782ac07de6fa",
                "clientName": "sample.pdf",
                "fileUploadedOn": "2020-08-25T13:06:25.572Z",
                "mcuName": "",
                "byteProStatus": "Synchronized",
                "isRead": true,
                "status": null
            },
            {
                "id": "5f450cd460b6782ac07de6fc",
                "clientName": "turkey-30482991920-1366x550.jpg",
                "fileUploadedOn": "2020-08-25T13:06:28.794Z",
                "mcuName": "",
                "byteProStatus": "Synchronized",
                "isRead": true,
                "status": null
            },
            {
                "id": "5f450d9760b6782ac07de6fe",
                "clientName": "turkey-30482991920-02.jpg",
                "fileUploadedOn": "2020-08-25T13:09:43.658Z",
                "mcuName": "",
                "byteProStatus": "Synchronized",
                "isRead": true,
                "status": null
            }
        ],
        "typeId": "5eb257a3e519051af2eeb624",
        "userName": "Shehroz Riyaz"
    },
    {
        "id": "5f3e259db821542b2841e37b",
        "requestId": "5f44f6aa60b6782ac07de669",
        "docId": "5f44f6aa60b6782ac07de66a",
        "docName": "Salary Slip",
        "status": "Pending review",
        "createdOn": "2020-08-25T11:31:54.532Z",
        "files": [
            {
                "id": "5f44f76460b6782ac07de680",
                "clientName": "turkey-30482991920-1366x550.jpg",
                "fileUploadedOn": "2020-08-25T11:35:00.461Z",
                "mcuName": "",
                "byteProStatus": "Synchronized",
                "isRead": true,
                "status": null
            },
            {
                "id": "5f44f77d60b6782ac07de683",
                "clientName": "turkey-30482991920-02.jpg",
                "fileUploadedOn": "2020-08-25T11:35:25.016Z",
                "mcuName": "",
                "byteProStatus": "Synchronized",
                "isRead": true,
                "status": null
            },
            {
                "id": "5f44f7d360b6782ac07de685",
                "clientName": "turkey-30482991920-03.jpeg",
                "fileUploadedOn": "2020-08-25T11:36:51.766Z",
                "mcuName": "",
                "byteProStatus": "Not synchronized",
                "isRead": true,
                "status": null
            },
            {
                "id": "5f44f81460b6782ac07de687",
                "clientName": "turkey-30482991920-04.jpeg",
                "fileUploadedOn": "2020-08-25T11:37:56.73Z",
                "mcuName": "",
                "byteProStatus": "Synchronized",
                "isRead": true,
                "status": null
            },
            {
                "id": "5f44f84b60b6782ac07de689",
                "clientName": "nature.jpg",
                "fileUploadedOn": "2020-08-25T11:38:51.61Z",
                "mcuName": "",
                "byteProStatus": "Synchronized",
                "isRead": true,
                "status": null
            },
            {
                "id": "5f44f85860b6782ac07de68b",
                "clientName": "turkey-30482991920-05.jpeg",
                "fileUploadedOn": "2020-08-25T11:39:04.479Z",
                "mcuName": "",
                "byteProStatus": "Synchronized",
                "isRead": true,
                "status": null
            },
            {
                "id": "5f44f91d60b6782ac07de68d",
                "clientName": "turkey-30482991920-06.jpeg",
                "fileUploadedOn": "2020-08-25T11:42:21.351Z",
                "mcuName": "",
                "byteProStatus": "Not synchronized",
                "isRead": false,
                "status": null
            },
            {
                "id": "5f44f91e60b6782ac07de68f",
                "clientName": "sample.pdf",
                "fileUploadedOn": "2020-08-25T11:42:22.308Z",
                "mcuName": "",
                "byteProStatus": "Not synchronized",
                "isRead": true,
                "status": null
            },
            {
                "id": "5f44f94360b6782ac07de691",
                "clientName": "sample-02.pdf",
                "fileUploadedOn": "2020-08-25T11:42:59.845Z",
                "mcuName": "",
                "byteProStatus": "Not synchronized",
                "isRead": false,
                "status": null
            },
            {
                "id": "5f45029360b6782ac07de6a6",
                "clientName": "sample-03.pdf",
                "fileUploadedOn": "2020-08-25T12:22:43.006Z",
                "mcuName": "",
                "byteProStatus": "Synchronized",
                "isRead": true,
                "status": null
            }
        ],
        "typeId": "5eb257a3e519051af2eeb624",
        "userName": "Shehroz Riyaz"
    },
]

const uploadedDocsMock = [
    {
        "id": "5f5b6c1a6a7e982768be410c",
        "requestId": "5f5b6c1a6a7e982768be410d",
        "docId": "5f5b6c1a6a7e982768be4122",
        "docName": "Rental Agreement",
        "docMessage": "Lease or rental agreement",
        "isRejected": false,
        "files": [
            {
                "id": "5f5b6d006a7e982768be413b",
                "clientName": "4 - copy.png",
                "fileUploadedOn": "2020-09-11T12:26:40.041Z",
                "size": 56790,
                "order": 0
            },
            {
                "id": "5f5b6d006a7e982768be413e",
                "clientName": "images.jpeg",
                "fileUploadedOn": "2020-09-11T12:26:40.964Z",
                "size": 7825,
                "order": 0
            }
        ]
    },
    {
        "id": "5f5b6c1a6a7e982768be410c",
        "requestId": "5f5b6c1a6a7e982768be410d",
        "docId": "5f5b6c1a6a7e982768be412a",
        "docName": "W-2s - Last Two years",
        "docMessage": "Most recent and prior year W-2 forms from all applicants in the workforce",
        "isRejected": false,
        "files": [
            {
                "id": "5f61bd4a58033e4040a3848d",
                "clientName": "payslip-02 -  .png",
                "fileUploadedOn": "2020-09-16T07:22:50.804Z",
                "size": 19785,
                "order": 0
            }
        ]
    },
    {
        "id": "5f5b6c1a6a7e982768be410c",
        "requestId": "5f5b6c1a6a7e982768be410d",
        "docId": "5f5b6c1a6a7e982768be4126",
        "docName": "Tax Returns with Schedules (Business - Two Years)",
        "docMessage": "Most recent two years business tax returns filed with the IRS",
        "isRejected": false,
        "files": [
            {
                "id": "5f5b6d0c6a7e982768be4141",
                "clientName": "3 - copy.png",
                "fileUploadedOn": "2020-09-11T12:26:52.951Z",
                "size": 70400,
                "order": 0
            },
            
            {
                "id": "5f5b6d116a7e982768be4146",
                "clientName": "7mb.pdf",
                "fileUploadedOn": "2020-09-11T12:26:57.138Z",
                "size": 7475073,
                "order": 0
            },
            {
                "id": "5f5b6d126a7e982768be4148",
                "clientName": "index.jpeg",
                "fileUploadedOn": "2020-09-11T12:26:58.012Z",
                "size": 11070,
                "order": 0
            }
        ]
    },
    {
        "id": "5f5b6c1a6a7e982768be410c",
        "requestId": "5f60b2e658033e4040a383d1",
        "docId": "5f60b2e658033e4040a383d2",
        "docName": "Bank Statements - Two Months",
        "docMessage": "Checking & Savings account statements - most recent two months or most recent quarter",
        "isRejected": false,
        "files": [
            {
                "id": "5f60ae6258033e4040a383bc",
                "clientName": "3 - copy.png",
                "fileUploadedOn": "2020-09-15T12:06:58.441Z",
                "size": 70400,
                "order": 0
            },
            {
                "id": "5f60ae6358033e4040a383bf",
                "clientName": "3.png",
                "fileUploadedOn": "2020-09-15T12:06:59.151Z",
                "size": 70400,
                "order": 0
            },
            {
                "id": "5f60ae6358033e4040a383c1",
                "clientName": "4 - copy.png",
                "fileUploadedOn": "2020-09-15T12:06:59.899Z",
                "size": 56790,
                "order": 0
            },
            {
                "id": "5f60ae6558033e4040a383c3",
                "clientName": "error-log.png",
                "fileUploadedOn": "2020-09-15T12:07:01.227Z",
                "size": 170857,
                "order": 0
            },
            {
                "id": "5f60ae6558033e4040a383c5",
                "clientName": "images.jpeg",
                "fileUploadedOn": "2020-09-15T12:07:01.808Z",
                "size": 7825,
                "order": 0
            },
            {
                "id": "5f60aede58033e4040a383c7",
                "clientName": "error.png",
                "fileUploadedOn": "2020-09-15T12:09:02.653Z",
                "size": 97596,
                "order": 0
            },
            {
                "id": "5f60aedf58033e4040a383c9",
                "clientName": "error-log-copy-1.png",
                "fileUploadedOn": "2020-09-15T12:09:03.639Z",
                "size": 170857,
                "order": 0
            },
            {
                "id": "5f60aee058033e4040a383cb",
                "clientName": "images-copy-1.jpeg",
                "fileUploadedOn": "2020-09-15T12:09:04.528Z",
                "size": 7825,
                "order": 0
            },
            {
                "id": "5f60b23e58033e4040a383cd",
                "clientName": "4.png",
                "fileUploadedOn": "2020-09-15T12:23:26.161Z",
                "size": 56790,
                "order": 0
            },
            {
                "id": "5f60b27c58033e4040a383cf",
                "clientName": "images-copy-2.jpeg",
                "fileUploadedOn": "2020-09-15T12:24:28.85Z",
                "size": 7825,
                "order": 0
            }
        
        ]
    }
]

export const getPendingDocs = (seedData) => {
    let d = seedData.map((d: any, i: number) => {
        let {
            id,
            requestId,
            docId,
            docName,
            docMessage,
            files,
            isRejected,
        } = d;
        let doc = new DocumentRequest(
            id,
            requestId,
            docId,
            docName,
            docMessage,
            files,
            isRejected
        );

        if (doc.files === null || doc.files === undefined) {
            doc.files = [];
        }
        doc.files = doc.files.map((f: Document) => {
            return new Document(
                f.id,
                f.clientName,
                f.fileUploadedOn,
                f.size,
                f.order,
                FileUpload.getDocLogo(f, "dot"),
                "done"
            );
        });

        return doc;
    });
    return d;
}

export class DocumentActions {
    static async getPendingDocuments(loanApplicationId: string) {
        return getPendingDocs(seedData);

    }

    static async getSubmittedDocuments(loanApplicationId: string) {
        let d = uploadedDocsMock.map((r) => r);
        return d;
    }

    static async getSubmittedDocumentForView(params: any) {

    }

    static async finishDocument(loanApplicationId: string, data: {}) {
        return seedData.filter((d: any, i: any) => i !== 0);

    }
}
