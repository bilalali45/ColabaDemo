{"id":"VjGZ","dependencies":[{"name":"D:\\work\\Rainmaker2\\Rainmaker2\\src\\Presentation\\libraries\\rainsoft-authorization\\package.json","includedInParent":true,"mtime":1609144240016},{"name":"jwt-decode","loc":{"line":7,"column":43},"parent":"D:\\work\\Rainmaker2\\Rainmaker2\\src\\Presentation\\libraries\\rainsoft-authorization\\src\\localStorage.ts","resolved":"D:\\work\\Rainmaker2\\Rainmaker2\\src\\Presentation\\libraries\\rainsoft-authorization\\node_modules\\jwt-decode\\build\\jwt-decode.esm.js"},{"name":"universal-cookie","loc":{"line":8,"column":49},"parent":"D:\\work\\Rainmaker2\\Rainmaker2\\src\\Presentation\\libraries\\rainsoft-authorization\\src\\localStorage.ts","resolved":"D:\\work\\Rainmaker2\\Rainmaker2\\src\\Presentation\\libraries\\rainsoft-authorization\\node_modules\\universal-cookie\\es6\\index.js"},{"name":"rainsoft-js","loc":{"line":9,"column":28},"parent":"D:\\work\\Rainmaker2\\Rainmaker2\\src\\Presentation\\libraries\\rainsoft-authorization\\src\\localStorage.ts","resolved":"D:\\work\\Rainmaker2\\Rainmaker2\\src\\Presentation\\libraries\\rainsoft-authorization\\node_modules\\rainsoft-js\\index.js"},{"name":"./applicationEnv","loc":{"line":10,"column":31},"parent":"D:\\work\\Rainmaker2\\Rainmaker2\\src\\Presentation\\libraries\\rainsoft-authorization\\src\\localStorage.ts","resolved":"D:\\work\\Rainmaker2\\Rainmaker2\\src\\Presentation\\libraries\\rainsoft-authorization\\src\\applicationEnv.ts"}],"generated":{"js":"\"use strict\";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.LocalDB=void 0;var t=e(require(\"jwt-decode\")),r=e(require(\"universal-cookie\")),n=require(\"rainsoft-js\"),o=require(\"./applicationEnv\"),a=new r.default,i=window.envConfig.API_BASE_URL,l=new n.Http(i,\"Rainmaker2Token\"),u=function(){function e(){}return e.getCredentials=function(){return{userName:e.getLoginDevUserName(),password:e.getLoginDevPassword(),employee:!0}},e.getAuthToken=function(){return this.decodeString(localStorage.getItem(\"Rainmaker2Token\"))},e.getRefreshToken=function(){return this.decodeString(localStorage.getItem(\"Rainmaker2RefreshToken\"))},e.getLoginDevUserName=function(){return localStorage.getItem(\"devusername\")},e.getLoginDevPassword=function(){return localStorage.getItem(\"devuserpassword\")},e.getUserPayload=function(){var e=this.decodeString(localStorage.getItem(\"TokenPayload\"));return e?JSON.parse(e):null},e.storeTokenPayload=function(e){e&&localStorage.setItem(\"TokenPayload\",this.encodeString(JSON.stringify(e)))},e.storeAuthTokens=function(e,t){localStorage.setItem(\"Rainmaker2Token\",this.encodeString(e)),localStorage.setItem(\"Rainmaker2RefreshToken\",this.encodeString(t))},e.getPortalReferralUrl=function(){return localStorage.getItem(\"PortalReferralUrl\")},e.setPortalReferralUrl=function(e){localStorage.setItem(\"PortalReferralUrl\",e)},e.checkAuth=function(){var e=a.get(\"Rainmaker2Token\"),r=this.getAuthToken();if(!r)return!1;if(e){var n=t.default(e),o=t.default(r);if((null==o?void 0:o.UserName)!=(null==n?void 0:n.UserName))return!1;if(n.exp>o.exp)return console.log(\"Cache token is going to validate\"),!1}var i=this.getUserPayload();if(i){var l=new Date(1e3*i.exp);return new Date(Date.now())<l||\"token expired\"}return!0},e.storeItem=function(e,t){localStorage.setItem(e,this.encodeString(t))},e.removeAuth=function(){for(var e=0,t=[\"Rainmaker2Token\",\"TokenPayload\",\"Rainmaker2RefreshToken\"];e<t.length;e++){var r=t[e];localStorage.removeItem(r)}},e.encodeString=function(e){var t=e+\"|\"+o.ApplicationEnv.Encode_Key;return btoa(unescape(encodeURIComponent(t)))},e.decodeString=function(e){if(!e)return\"\";try{return atob(e).split(\"|\")[0]}catch(t){return null}},e}();exports.LocalDB=u;"},"sourceMaps":{"js":{"mappings":[{"source":"src/localStorage.ts","name":null,"original":{"line":11,"column":13},"generated":{"line":1,"column":0}},{"source":"src/localStorage.ts","name":null,"original":{"line":11,"column":13},"generated":{"line":1,"column":13}},{"source":"src/localStorage.ts","name":null,"original":{"line":11,"column":13},"generated":{"line":1,"column":17}},{"source":"src/localStorage.ts","name":null,"original":{"line":11,"column":13},"generated":{"line":1,"column":19}},{"source":"src/localStorage.ts","name":null,"original":{"line":11,"column":13},"generated":{"line":1,"column":25}},{"source":"src/localStorage.ts","name":null,"original":{"line":11,"column":13},"generated":{"line":1,"column":30}},{"source":"src/localStorage.ts","name":null,"original":{"line":11,"column":13},"generated":{"line":1,"column":47}},{"source":"src/localStorage.ts","name":null,"original":{"line":11,"column":13},"generated":{"line":1,"column":56}},{"source":"src/localStorage.ts","name":null,"original":{"line":11,"column":13},"generated":{"line":1,"column":59}},{"source":"src/localStorage.ts","name":null,"original":{"line":11,"column":13},"generated":{"line":1,"column":66}},{"source":"src/localStorage.ts","name":null,"original":{"line":11,"column":13},"generated":{"line":1,"column":69}},{"source":"src/localStorage.ts","name":null,"original":{"line":11,"column":13},"generated":{"line":1,"column":71}},{"source":"src/localStorage.ts","name":null,"original":{"line":11,"column":13},"generated":{"line":1,"column":82}},{"source":"src/localStorage.ts","name":null,"original":{"line":11,"column":13},"generated":{"line":1,"column":84}},{"source":"src/localStorage.ts","name":null,"original":{"line":11,"column":13},"generated":{"line":1,"column":85}},{"source":"src/localStorage.ts","name":null,"original":{"line":11,"column":13},"generated":{"line":1,"column":93}},{"source":"src/localStorage.ts","name":null,"original":{"line":11,"column":13},"generated":{"line":1,"column":97}},{"source":"src/localStorage.ts","name":null,"original":{"line":11,"column":13},"generated":{"line":1,"column":104}},{"source":"src/localStorage.ts","name":null,"original":{"line":11,"column":13},"generated":{"line":1,"column":119}},{"source":"src/localStorage.ts","name":null,"original":{"line":11,"column":13},"generated":{"line":1,"column":127}},{"source":"src/localStorage.ts","name":null,"original":{"line":11,"column":13},"generated":{"line":1,"column":140}},{"source":"src/localStorage.ts","name":null,"original":{"line":11,"column":13},"generated":{"line":1,"column":141}},{"source":"src/localStorage.ts","name":null,"original":{"line":11,"column":13},"generated":{"line":1,"column":148}},{"source":"src/localStorage.ts","name":null,"original":{"line":11,"column":13},"generated":{"line":1,"column":152}},{"source":"src/localStorage.ts","name":null,"original":{"line":11,"column":13},"generated":{"line":1,"column":160}},{"source":"src/localStorage.ts","name":null,"original":{"line":11,"column":13},"generated":{"line":1,"column":173}},{"source":"src/localStorage.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":175}},{"source":"src/localStorage.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":179}},{"source":"src/localStorage.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":181}},{"source":"src/localStorage.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":183}},{"source":"src/localStorage.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":191}},{"source":"src/localStorage.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":206}},{"source":"src/localStorage.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":208}},{"source":"src/localStorage.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":210}},{"source":"src/localStorage.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":218}},{"source":"src/localStorage.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":239}},{"source":"src/localStorage.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":241}},{"source":"src/localStorage.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":249}},{"source":"src/localStorage.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":264}},{"source":"src/localStorage.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":266}},{"source":"src/localStorage.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":274}},{"source":"src/localStorage.ts","name":null,"original":{"line":7,"column":6},"generated":{"line":1,"column":294}},{"source":"src/localStorage.ts","name":null,"original":{"line":7,"column":16},"generated":{"line":1,"column":296}},{"source":"src/localStorage.ts","name":null,"original":{"line":7,"column":20},"generated":{"line":1,"column":300}},{"source":"src/localStorage.ts","name":null,"original":{"line":7,"column":20},"generated":{"line":1,"column":302}},{"source":"src/localStorage.ts","name":null,"original":{"line":8,"column":6},"generated":{"line":1,"column":310}},{"source":"src/localStorage.ts","name":null,"original":{"line":8,"column":21},"generated":{"line":1,"column":312}},{"source":"src/localStorage.ts","name":null,"original":{"line":8,"column":28},"generated":{"line":1,"column":319}},{"source":"src/localStorage.ts","name":null,"original":{"line":8,"column":38},"generated":{"line":1,"column":329}},{"source":"src/localStorage.ts","name":null,"original":{"line":9,"column":6},"generated":{"line":1,"column":342}},{"source":"src/localStorage.ts","name":null,"original":{"line":9,"column":19},"generated":{"line":1,"column":344}},{"source":"src/localStorage.ts","name":null,"original":{"line":9,"column":23},"generated":{"line":1,"column":348}},{"source":"src/localStorage.ts","name":null,"original":{"line":9,"column":23},"generated":{"line":1,"column":350}},{"source":"src/localStorage.ts","name":null,"original":{"line":9,"column":28},"generated":{"line":1,"column":355}},{"source":"src/localStorage.ts","name":null,"original":{"line":9,"column":37},"generated":{"line":1,"column":357}},{"source":"src/localStorage.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":376}},{"source":"src/localStorage.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":378}},{"source":"src/localStorage.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":389}},{"source":"src/localStorage.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":398}},{"source":"src/localStorage.ts","name":null,"original":{"line":149,"column":0},"generated":{"line":1,"column":403}},{"source":"src/localStorage.ts","name":null,"original":{"line":12,"column":9},"generated":{"line":1,"column":410}},{"source":"src/localStorage.ts","name":null,"original":{"line":12,"column":9},"generated":{"line":1,"column":412}},{"source":"src/localStorage.ts","name":null,"original":{"line":12,"column":2},"generated":{"line":1,"column":427}},{"source":"src/localStorage.ts","name":null,"original":{"line":23,"column":11},"generated":{"line":1,"column":438}},{"source":"src/localStorage.ts","name":null,"original":{"line":17,"column":24},"generated":{"line":1,"column":444}},{"source":"src/localStorage.ts","name":null,"original":{"line":18,"column":6},"generated":{"line":1,"column":445}},{"source":"src/localStorage.ts","name":null,"original":{"line":18,"column":16},"generated":{"line":1,"column":454}},{"source":"src/localStorage.ts","name":null,"original":{"line":18,"column":24},"generated":{"line":1,"column":456}},{"source":"src/localStorage.ts","name":null,"original":{"line":19,"column":6},"generated":{"line":1,"column":478}},{"source":"src/localStorage.ts","name":null,"original":{"line":19,"column":16},"generated":{"line":1,"column":487}},{"source":"src/localStorage.ts","name":null,"original":{"line":19,"column":24},"generated":{"line":1,"column":489}},{"source":"src/localStorage.ts","name":null,"original":{"line":20,"column":6},"generated":{"line":1,"column":511}},{"source":"src/localStorage.ts","name":null,"original":{"line":20,"column":16},"generated":{"line":1,"column":521}},{"source":"src/localStorage.ts","name":null,"original":{"line":27,"column":9},"generated":{"line":1,"column":525}},{"source":"src/localStorage.ts","name":null,"original":{"line":27,"column":9},"generated":{"line":1,"column":527}},{"source":"src/localStorage.ts","name":null,"original":{"line":27,"column":2},"generated":{"line":1,"column":540}},{"source":"src/localStorage.ts","name":null,"original":{"line":28,"column":11},"generated":{"line":1,"column":551}},{"source":"src/localStorage.ts","name":null,"original":{"line":28,"column":11},"generated":{"line":1,"column":558}},{"source":"src/localStorage.ts","name":null,"original":{"line":28,"column":16},"generated":{"line":1,"column":563}},{"source":"src/localStorage.ts","name":null,"original":{"line":28,"column":29},"generated":{"line":1,"column":576}},{"source":"src/localStorage.ts","name":null,"original":{"line":28,"column":42},"generated":{"line":1,"column":589}},{"source":"src/localStorage.ts","name":null,"original":{"line":28,"column":50},"generated":{"line":1,"column":597}},{"source":"src/localStorage.ts","name":null,"original":{"line":31,"column":9},"generated":{"line":1,"column":618}},{"source":"src/localStorage.ts","name":null,"original":{"line":31,"column":9},"generated":{"line":1,"column":620}},{"source":"src/localStorage.ts","name":null,"original":{"line":31,"column":2},"generated":{"line":1,"column":636}},{"source":"src/localStorage.ts","name":null,"original":{"line":32,"column":11},"generated":{"line":1,"column":647}},{"source":"src/localStorage.ts","name":null,"original":{"line":32,"column":11},"generated":{"line":1,"column":654}},{"source":"src/localStorage.ts","name":null,"original":{"line":32,"column":16},"generated":{"line":1,"column":659}},{"source":"src/localStorage.ts","name":null,"original":{"line":32,"column":29},"generated":{"line":1,"column":672}},{"source":"src/localStorage.ts","name":null,"original":{"line":32,"column":42},"generated":{"line":1,"column":685}},{"source":"src/localStorage.ts","name":null,"original":{"line":32,"column":50},"generated":{"line":1,"column":693}},{"source":"src/localStorage.ts","name":null,"original":{"line":35,"column":9},"generated":{"line":1,"column":721}},{"source":"src/localStorage.ts","name":null,"original":{"line":35,"column":9},"generated":{"line":1,"column":723}},{"source":"src/localStorage.ts","name":null,"original":{"line":35,"column":2},"generated":{"line":1,"column":743}},{"source":"src/localStorage.ts","name":null,"original":{"line":36,"column":11},"generated":{"line":1,"column":754}},{"source":"src/localStorage.ts","name":null,"original":{"line":36,"column":11},"generated":{"line":1,"column":761}},{"source":"src/localStorage.ts","name":null,"original":{"line":36,"column":24},"generated":{"line":1,"column":774}},{"source":"src/localStorage.ts","name":null,"original":{"line":36,"column":32},"generated":{"line":1,"column":782}},{"source":"src/localStorage.ts","name":null,"original":{"line":39,"column":9},"generated":{"line":1,"column":798}},{"source":"src/localStorage.ts","name":null,"original":{"line":39,"column":9},"generated":{"line":1,"column":800}},{"source":"src/localStorage.ts","name":null,"original":{"line":39,"column":2},"generated":{"line":1,"column":820}},{"source":"src/localStorage.ts","name":null,"original":{"line":40,"column":11},"generated":{"line":1,"column":831}},{"source":"src/localStorage.ts","name":null,"original":{"line":40,"column":11},"generated":{"line":1,"column":838}},{"source":"src/localStorage.ts","name":null,"original":{"line":40,"column":24},"generated":{"line":1,"column":851}},{"source":"src/localStorage.ts","name":null,"original":{"line":40,"column":32},"generated":{"line":1,"column":859}},{"source":"src/localStorage.ts","name":null,"original":{"line":43,"column":9},"generated":{"line":1,"column":879}},{"source":"src/localStorage.ts","name":null,"original":{"line":43,"column":9},"generated":{"line":1,"column":881}},{"source":"src/localStorage.ts","name":null,"original":{"line":43,"column":2},"generated":{"line":1,"column":896}},{"source":"src/localStorage.ts","name":null,"original":{"line":44,"column":10},"generated":{"line":1,"column":907}},{"source":"src/localStorage.ts","name":null,"original":{"line":44,"column":10},"generated":{"line":1,"column":911}},{"source":"src/localStorage.ts","name":null,"original":{"line":44,"column":20},"generated":{"line":1,"column":913}},{"source":"src/localStorage.ts","name":null,"original":{"line":44,"column":25},"generated":{"line":1,"column":918}},{"source":"src/localStorage.ts","name":null,"original":{"line":44,"column":38},"generated":{"line":1,"column":931}},{"source":"src/localStorage.ts","name":null,"original":{"line":44,"column":51},"generated":{"line":1,"column":944}},{"source":"src/localStorage.ts","name":null,"original":{"line":44,"column":59},"generated":{"line":1,"column":952}},{"source":"src/localStorage.ts","name":null,"original":{"line":46,"column":8},"generated":{"line":1,"column":969}},{"source":"src/localStorage.ts","name":null,"original":{"line":46,"column":8},"generated":{"line":1,"column":976}},{"source":"src/localStorage.ts","name":null,"original":{"line":47,"column":13},"generated":{"line":1,"column":978}},{"source":"src/localStorage.ts","name":null,"original":{"line":47,"column":18},"generated":{"line":1,"column":983}},{"source":"src/localStorage.ts","name":null,"original":{"line":47,"column":24},"generated":{"line":1,"column":989}},{"source":"src/localStorage.ts","name":null,"original":{"line":50,"column":11},"generated":{"line":1,"column":992}},{"source":"src/localStorage.ts","name":null,"original":{"line":56,"column":9},"generated":{"line":1,"column":998}},{"source":"src/localStorage.ts","name":null,"original":{"line":56,"column":9},"generated":{"line":1,"column":1000}},{"source":"src/localStorage.ts","name":null,"original":{"line":56,"column":2},"generated":{"line":1,"column":1018}},{"source":"src/localStorage.ts","name":null,"original":{"line":56,"column":27},"generated":{"line":1,"column":1027}},{"source":"src/localStorage.ts","name":null,"original":{"line":57,"column":9},"generated":{"line":1,"column":1030}},{"source":"src/localStorage.ts","name":null,"original":{"line":59,"column":4},"generated":{"line":1,"column":1033}},{"source":"src/localStorage.ts","name":null,"original":{"line":59,"column":17},"generated":{"line":1,"column":1046}},{"source":"src/localStorage.ts","name":null,"original":{"line":60,"column":6},"generated":{"line":1,"column":1054}},{"source":"src/localStorage.ts","name":null,"original":{"line":61,"column":6},"generated":{"line":1,"column":1069}},{"source":"src/localStorage.ts","name":null,"original":{"line":61,"column":11},"generated":{"line":1,"column":1074}},{"source":"src/localStorage.ts","name":null,"original":{"line":61,"column":24},"generated":{"line":1,"column":1087}},{"source":"src/localStorage.ts","name":null,"original":{"line":61,"column":29},"generated":{"line":1,"column":1092}},{"source":"src/localStorage.ts","name":null,"original":{"line":61,"column":39},"generated":{"line":1,"column":1102}},{"source":"src/localStorage.ts","name":null,"original":{"line":65,"column":9},"generated":{"line":1,"column":1108}},{"source":"src/localStorage.ts","name":null,"original":{"line":65,"column":9},"generated":{"line":1,"column":1110}},{"source":"src/localStorage.ts","name":null,"original":{"line":65,"column":2},"generated":{"line":1,"column":1126}},{"source":"src/localStorage.ts","name":null,"original":{"line":65,"column":25},"generated":{"line":1,"column":1135}},{"source":"src/localStorage.ts","name":null,"original":{"line":65,"column":40},"generated":{"line":1,"column":1137}},{"source":"src/localStorage.ts","name":null,"original":{"line":66,"column":4},"generated":{"line":1,"column":1140}},{"source":"src/localStorage.ts","name":null,"original":{"line":66,"column":17},"generated":{"line":1,"column":1153}},{"source":"src/localStorage.ts","name":null,"original":{"line":66,"column":25},"generated":{"line":1,"column":1161}},{"source":"src/localStorage.ts","name":null,"original":{"line":66,"column":44},"generated":{"line":1,"column":1179}},{"source":"src/localStorage.ts","name":null,"original":{"line":66,"column":49},"generated":{"line":1,"column":1184}},{"source":"src/localStorage.ts","name":null,"original":{"line":66,"column":62},"generated":{"line":1,"column":1197}},{"source":"src/localStorage.ts","name":null,"original":{"line":67,"column":4},"generated":{"line":1,"column":1201}},{"source":"src/localStorage.ts","name":null,"original":{"line":67,"column":17},"generated":{"line":1,"column":1214}},{"source":"src/localStorage.ts","name":null,"original":{"line":68,"column":6},"generated":{"line":1,"column":1222}},{"source":"src/localStorage.ts","name":null,"original":{"line":69,"column":6},"generated":{"line":1,"column":1247}},{"source":"src/localStorage.ts","name":null,"original":{"line":69,"column":11},"generated":{"line":1,"column":1252}},{"source":"src/localStorage.ts","name":null,"original":{"line":69,"column":24},"generated":{"line":1,"column":1265}},{"source":"src/localStorage.ts","name":null,"original":{"line":73,"column":9},"generated":{"line":1,"column":1270}},{"source":"src/localStorage.ts","name":null,"original":{"line":73,"column":9},"generated":{"line":1,"column":1272}},{"source":"src/localStorage.ts","name":null,"original":{"line":73,"column":2},"generated":{"line":1,"column":1293}},{"source":"src/localStorage.ts","name":null,"original":{"line":74,"column":11},"generated":{"line":1,"column":1304}},{"source":"src/localStorage.ts","name":null,"original":{"line":74,"column":11},"generated":{"line":1,"column":1311}},{"source":"src/localStorage.ts","name":null,"original":{"line":74,"column":24},"generated":{"line":1,"column":1324}},{"source":"src/localStorage.ts","name":null,"original":{"line":74,"column":32},"generated":{"line":1,"column":1332}},{"source":"src/localStorage.ts","name":null,"original":{"line":77,"column":9},"generated":{"line":1,"column":1354}},{"source":"src/localStorage.ts","name":null,"original":{"line":77,"column":9},"generated":{"line":1,"column":1356}},{"source":"src/localStorage.ts","name":null,"original":{"line":77,"column":2},"generated":{"line":1,"column":1377}},{"source":"src/localStorage.ts","name":null,"original":{"line":77,"column":30},"generated":{"line":1,"column":1386}},{"source":"src/localStorage.ts","name":null,"original":{"line":78,"column":4},"generated":{"line":1,"column":1389}},{"source":"src/localStorage.ts","name":null,"original":{"line":78,"column":17},"generated":{"line":1,"column":1402}},{"source":"src/localStorage.ts","name":null,"original":{"line":78,"column":25},"generated":{"line":1,"column":1410}},{"source":"src/localStorage.ts","name":null,"original":{"line":78,"column":46},"generated":{"line":1,"column":1430}},{"source":"src/localStorage.ts","name":null,"original":{"line":81,"column":16},"generated":{"line":1,"column":1434}},{"source":"src/localStorage.ts","name":null,"original":{"line":81,"column":16},"generated":{"line":1,"column":1436}},{"source":"src/localStorage.ts","name":null,"original":{"line":81,"column":2},"generated":{"line":1,"column":1446}},{"source":"src/localStorage.ts","name":null,"original":{"line":82,"column":10},"generated":{"line":1,"column":1457}},{"source":"src/localStorage.ts","name":null,"original":{"line":82,"column":10},"generated":{"line":1,"column":1461}},{"source":"src/localStorage.ts","name":null,"original":{"line":82,"column":28},"generated":{"line":1,"column":1463}},{"source":"src/localStorage.ts","name":null,"original":{"line":82,"column":36},"generated":{"line":1,"column":1465}},{"source":"src/localStorage.ts","name":null,"original":{"line":82,"column":40},"generated":{"line":1,"column":1469}},{"source":"src/localStorage.ts","name":null,"original":{"line":83,"column":10},"generated":{"line":1,"column":1488}},{"source":"src/localStorage.ts","name":null,"original":{"line":83,"column":17},"generated":{"line":1,"column":1490}},{"source":"src/localStorage.ts","name":null,"original":{"line":83,"column":22},"generated":{"line":1,"column":1495}},{"source":"src/localStorage.ts","name":null,"original":{"line":84,"column":8},"generated":{"line":1,"column":1510}},{"source":"src/localStorage.ts","name":null,"original":{"line":84,"column":9},"generated":{"line":1,"column":1514}},{"source":"src/localStorage.ts","name":null,"original":{"line":85,"column":13},"generated":{"line":1,"column":1516}},{"source":"src/localStorage.ts","name":null,"original":{"line":85,"column":13},"generated":{"line":1,"column":1523}},{"source":"src/localStorage.ts","name":null,"original":{"line":87,"column":8},"generated":{"line":1,"column":1525}},{"source":"src/localStorage.ts","name":null,"original":{"line":87,"column":8},"generated":{"line":1,"column":1528}},{"source":"src/localStorage.ts","name":null,"original":{"line":87,"column":25},"generated":{"line":1,"column":1530}},{"source":"src/localStorage.ts","name":null,"original":{"line":88,"column":12},"generated":{"line":1,"column":1531}},{"source":"src/localStorage.ts","name":null,"original":{"line":88,"column":12},"generated":{"line":1,"column":1535}},{"source":"src/localStorage.ts","name":null,"original":{"line":88,"column":36},"generated":{"line":1,"column":1537}},{"source":"src/localStorage.ts","name":null,"original":{"line":88,"column":36},"generated":{"line":1,"column":1539}},{"source":"src/localStorage.ts","name":null,"original":{"line":88,"column":47},"generated":{"line":1,"column":1547}},{"source":"src/localStorage.ts","name":null,"original":{"line":89,"column":12},"generated":{"line":1,"column":1550}},{"source":"src/localStorage.ts","name":null,"original":{"line":89,"column":30},"generated":{"line":1,"column":1552}},{"source":"src/localStorage.ts","name":null,"original":{"line":89,"column":30},"generated":{"line":1,"column":1554}},{"source":"src/localStorage.ts","name":null,"original":{"line":89,"column":41},"generated":{"line":1,"column":1562}},{"source":"src/localStorage.ts","name":null,"original":{"line":90,"column":10},"generated":{"line":1,"column":1565}},{"source":"src/localStorage.ts","name":null,"original":{"line":90,"column":10},"generated":{"line":1,"column":1569}},{"source":"src/localStorage.ts","name":null,"original":{"line":90,"column":10},"generated":{"line":1,"column":1575}},{"source":"src/localStorage.ts","name":null,"original":{"line":90,"column":20},"generated":{"line":1,"column":1582}},{"source":"src/localStorage.ts","name":null,"original":{"line":90,"column":10},"generated":{"line":1,"column":1584}},{"source":"src/localStorage.ts","name":null,"original":{"line":90,"column":22},"generated":{"line":1,"column":1586}},{"source":"src/localStorage.ts","name":null,"original":{"line":90,"column":34},"generated":{"line":1,"column":1598}},{"source":"src/localStorage.ts","name":null,"original":{"line":90,"column":34},"generated":{"line":1,"column":1604}},{"source":"src/localStorage.ts","name":null,"original":{"line":90,"column":50},"generated":{"line":1,"column":1611}},{"source":"src/localStorage.ts","name":null,"original":{"line":90,"column":34},"generated":{"line":1,"column":1613}},{"source":"src/localStorage.ts","name":null,"original":{"line":90,"column":52},"generated":{"line":1,"column":1615}},{"source":"src/localStorage.ts","name":null,"original":{"line":91,"column":15},"generated":{"line":1,"column":1625}},{"source":"src/localStorage.ts","name":null,"original":{"line":91,"column":15},"generated":{"line":1,"column":1632}},{"source":"src/localStorage.ts","name":null,"original":{"line":93,"column":10},"generated":{"line":1,"column":1634}},{"source":"src/localStorage.ts","name":null,"original":{"line":93,"column":10},"generated":{"line":1,"column":1637}},{"source":"src/localStorage.ts","name":null,"original":{"line":93,"column":27},"generated":{"line":1,"column":1639}},{"source":"src/localStorage.ts","name":null,"original":{"line":93,"column":33},"generated":{"line":1,"column":1643}},{"source":"src/localStorage.ts","name":null,"original":{"line":93,"column":44},"generated":{"line":1,"column":1645}},{"source":"src/localStorage.ts","name":null,"original":{"line":95,"column":15},"generated":{"line":1,"column":1649}},{"source":"src/localStorage.ts","name":null,"original":{"line":94,"column":8},"generated":{"line":1,"column":1656}},{"source":"src/localStorage.ts","name":null,"original":{"line":94,"column":16},"generated":{"line":1,"column":1664}},{"source":"src/localStorage.ts","name":null,"original":{"line":94,"column":20},"generated":{"line":1,"column":1668}},{"source":"src/localStorage.ts","name":null,"original":{"line":95,"column":15},"generated":{"line":1,"column":1705}},{"source":"src/localStorage.ts","name":null,"original":{"line":99,"column":10},"generated":{"line":1,"column":1707}},{"source":"src/localStorage.ts","name":null,"original":{"line":99,"column":10},"generated":{"line":1,"column":1711}},{"source":"src/localStorage.ts","name":null,"original":{"line":99,"column":20},"generated":{"line":1,"column":1713}},{"source":"src/localStorage.ts","name":null,"original":{"line":99,"column":25},"generated":{"line":1,"column":1718}},{"source":"src/localStorage.ts","name":null,"original":{"line":100,"column":8},"generated":{"line":1,"column":1735}},{"source":"src/localStorage.ts","name":null,"original":{"line":100,"column":8},"generated":{"line":1,"column":1738}},{"source":"src/localStorage.ts","name":null,"original":{"line":100,"column":17},"generated":{"line":1,"column":1740}},{"source":"src/localStorage.ts","name":null,"original":{"line":101,"column":12},"generated":{"line":1,"column":1741}},{"source":"src/localStorage.ts","name":null,"original":{"line":101,"column":12},"generated":{"line":1,"column":1745}},{"source":"src/localStorage.ts","name":null,"original":{"line":101,"column":21},"generated":{"line":1,"column":1747}},{"source":"src/localStorage.ts","name":null,"original":{"line":101,"column":25},"generated":{"line":1,"column":1751}},{"source":"src/localStorage.ts","name":null,"original":{"line":101,"column":44},"generated":{"line":1,"column":1756}},{"source":"src/localStorage.ts","name":null,"original":{"line":101,"column":30},"generated":{"line":1,"column":1760}},{"source":"src/localStorage.ts","name":null,"original":{"line":101,"column":38},"generated":{"line":1,"column":1762}},{"source":"src/localStorage.ts","name":null,"original":{"line":103,"column":10},"generated":{"line":1,"column":1767}},{"source":"src/localStorage.ts","name":null,"original":{"line":102,"column":26},"generated":{"line":1,"column":1774}},{"source":"src/localStorage.ts","name":null,"original":{"line":102,"column":30},"generated":{"line":1,"column":1778}},{"source":"src/localStorage.ts","name":null,"original":{"line":102,"column":35},"generated":{"line":1,"column":1783}},{"source":"src/localStorage.ts","name":null,"original":{"line":102,"column":40},"generated":{"line":1,"column":1788}},{"source":"src/localStorage.ts","name":null,"original":{"line":103,"column":24},"generated":{"line":1,"column":1795}},{"source":"src/localStorage.ts","name":null,"original":{"line":106,"column":15},"generated":{"line":1,"column":1798}},{"source":"src/localStorage.ts","name":null,"original":{"line":111,"column":11},"generated":{"line":1,"column":1814}},{"source":"src/localStorage.ts","name":null,"original":{"line":111,"column":11},"generated":{"line":1,"column":1821}},{"source":"src/localStorage.ts","name":null,"original":{"line":114,"column":16},"generated":{"line":1,"column":1824}},{"source":"src/localStorage.ts","name":null,"original":{"line":114,"column":16},"generated":{"line":1,"column":1826}},{"source":"src/localStorage.ts","name":null,"original":{"line":114,"column":2},"generated":{"line":1,"column":1836}},{"source":"src/localStorage.ts","name":null,"original":{"line":114,"column":26},"generated":{"line":1,"column":1845}},{"source":"src/localStorage.ts","name":null,"original":{"line":114,"column":40},"generated":{"line":1,"column":1847}},{"source":"src/localStorage.ts","name":null,"original":{"line":115,"column":4},"generated":{"line":1,"column":1850}},{"source":"src/localStorage.ts","name":null,"original":{"line":115,"column":17},"generated":{"line":1,"column":1863}},{"source":"src/localStorage.ts","name":null,"original":{"line":115,"column":25},"generated":{"line":1,"column":1871}},{"source":"src/localStorage.ts","name":null,"original":{"line":115,"column":31},"generated":{"line":1,"column":1873}},{"source":"src/localStorage.ts","name":null,"original":{"line":115,"column":36},"generated":{"line":1,"column":1878}},{"source":"src/localStorage.ts","name":null,"original":{"line":115,"column":49},"generated":{"line":1,"column":1891}},{"source":"src/localStorage.ts","name":null,"original":{"line":120,"column":9},"generated":{"line":1,"column":1896}},{"source":"src/localStorage.ts","name":null,"original":{"line":120,"column":9},"generated":{"line":1,"column":1898}},{"source":"src/localStorage.ts","name":null,"original":{"line":120,"column":2},"generated":{"line":1,"column":1909}},{"source":"src/localStorage.ts","name":null,"original":{"line":122,"column":23},"generated":{"line":1,"column":1920}},{"source":"src/localStorage.ts","name":null,"original":{"line":121,"column":10},"generated":{"line":1,"column":1924}},{"source":"src/localStorage.ts","name":null,"original":{"line":122,"column":23},"generated":{"line":1,"column":1928}},{"source":"src/localStorage.ts","name":null,"original":{"line":122,"column":23},"generated":{"line":1,"column":1930}},{"source":"src/localStorage.ts","name":null,"original":{"line":122,"column":23},"generated":{"line":1,"column":1932}},{"source":"src/localStorage.ts","name":null,"original":{"line":121,"column":18},"generated":{"line":1,"column":1934}},{"source":"src/localStorage.ts","name":null,"original":{"line":121,"column":19},"generated":{"line":1,"column":1935}},{"source":"src/localStorage.ts","name":null,"original":{"line":121,"column":38},"generated":{"line":1,"column":1953}},{"source":"src/localStorage.ts","name":null,"original":{"line":121,"column":54},"generated":{"line":1,"column":1968}},{"source":"src/localStorage.ts","name":null,"original":{"line":122,"column":23},"generated":{"line":1,"column":1994}},{"source":"src/localStorage.ts","name":null,"original":{"line":122,"column":23},"generated":{"line":1,"column":1996}},{"source":"src/localStorage.ts","name":null,"original":{"line":122,"column":23},"generated":{"line":1,"column":1998}},{"source":"src/localStorage.ts","name":null,"original":{"line":122,"column":23},"generated":{"line":1,"column":2005}},{"source":"src/localStorage.ts","name":null,"original":{"line":122,"column":30},"generated":{"line":1,"column":2009}},{"source":"src/localStorage.ts","name":null,"original":{"line":122,"column":15},"generated":{"line":1,"column":2010}},{"source":"src/localStorage.ts","name":null,"original":{"line":122,"column":15},"generated":{"line":1,"column":2014}},{"source":"src/localStorage.ts","name":null,"original":{"line":122,"column":19},"generated":{"line":1,"column":2016}},{"source":"src/localStorage.ts","name":null,"original":{"line":122,"column":19},"generated":{"line":1,"column":2018}},{"source":"src/localStorage.ts","name":null,"original":{"line":123,"column":6},"generated":{"line":1,"column":2021}},{"source":"src/localStorage.ts","name":null,"original":{"line":123,"column":19},"generated":{"line":1,"column":2034}},{"source":"src/localStorage.ts","name":null,"original":{"line":123,"column":30},"generated":{"line":1,"column":2045}},{"source":"src/localStorage.ts","name":null,"original":{"line":129,"column":16},"generated":{"line":1,"column":2050}},{"source":"src/localStorage.ts","name":null,"original":{"line":129,"column":16},"generated":{"line":1,"column":2052}},{"source":"src/localStorage.ts","name":null,"original":{"line":129,"column":2},"generated":{"line":1,"column":2065}},{"source":"src/localStorage.ts","name":null,"original":{"line":129,"column":29},"generated":{"line":1,"column":2074}},{"source":"src/localStorage.ts","name":null,"original":{"line":132,"column":10},"generated":{"line":1,"column":2077}},{"source":"src/localStorage.ts","name":null,"original":{"line":132,"column":10},"generated":{"line":1,"column":2081}},{"source":"src/localStorage.ts","name":null,"original":{"line":132,"column":19},"generated":{"line":1,"column":2083}},{"source":"src/localStorage.ts","name":null,"original":{"line":132,"column":27},"generated":{"line":1,"column":2085}},{"source":"src/localStorage.ts","name":null,"original":{"line":132,"column":33},"generated":{"line":1,"column":2089}},{"source":"src/localStorage.ts","name":null,"original":{"line":132,"column":33},"generated":{"line":1,"column":2091}},{"source":"src/localStorage.ts","name":null,"original":{"line":132,"column":48},"generated":{"line":1,"column":2106}},{"source":"src/localStorage.ts","name":null,"original":{"line":133,"column":11},"generated":{"line":1,"column":2117}},{"source":"src/localStorage.ts","name":null,"original":{"line":133,"column":11},"generated":{"line":1,"column":2124}},{"source":"src/localStorage.ts","name":null,"original":{"line":133,"column":16},"generated":{"line":1,"column":2129}},{"source":"src/localStorage.ts","name":null,"original":{"line":133,"column":25},"generated":{"line":1,"column":2138}},{"source":"src/localStorage.ts","name":null,"original":{"line":133,"column":44},"generated":{"line":1,"column":2157}},{"source":"src/localStorage.ts","name":null,"original":{"line":136,"column":16},"generated":{"line":1,"column":2163}},{"source":"src/localStorage.ts","name":null,"original":{"line":136,"column":16},"generated":{"line":1,"column":2165}},{"source":"src/localStorage.ts","name":null,"original":{"line":136,"column":2},"generated":{"line":1,"column":2178}},{"source":"src/localStorage.ts","name":null,"original":{"line":136,"column":29},"generated":{"line":1,"column":2187}},{"source":"src/localStorage.ts","name":null,"original":{"line":138,"column":8},"generated":{"line":1,"column":2190}},{"source":"src/localStorage.ts","name":null,"original":{"line":138,"column":9},"generated":{"line":1,"column":2194}},{"source":"src/localStorage.ts","name":null,"original":{"line":139,"column":13},"generated":{"line":1,"column":2196}},{"source":"src/localStorage.ts","name":null,"original":{"line":139,"column":13},"generated":{"line":1,"column":2202}},{"source":"src/localStorage.ts","name":null,"original":{"line":141,"column":8},"generated":{"line":1,"column":2205}},{"source":"src/localStorage.ts","name":null,"original":{"line":143,"column":13},"generated":{"line":1,"column":2209}},{"source":"src/localStorage.ts","name":null,"original":{"line":142,"column":28},"generated":{"line":1,"column":2216}},{"source":"src/localStorage.ts","name":null,"original":{"line":142,"column":33},"generated":{"line":1,"column":2221}},{"source":"src/localStorage.ts","name":null,"original":{"line":143,"column":27},"generated":{"line":1,"column":2224}},{"source":"src/localStorage.ts","name":null,"original":{"line":143,"column":33},"generated":{"line":1,"column":2230}},{"source":"src/localStorage.ts","name":null,"original":{"line":143,"column":38},"generated":{"line":1,"column":2235}},{"source":"src/localStorage.ts","name":null,"original":{"line":144,"column":6},"generated":{"line":1,"column":2238}},{"source":"src/localStorage.ts","name":null,"original":{"line":144,"column":6},"generated":{"line":1,"column":2244}},{"source":"src/localStorage.ts","name":null,"original":{"line":145,"column":13},"generated":{"line":1,"column":2247}},{"source":"src/localStorage.ts","name":null,"original":{"line":145,"column":13},"generated":{"line":1,"column":2254}},{"source":"src/localStorage.ts","name":null,"original":{"line":149,"column":0},"generated":{"line":1,"column":2261}},{"source":"src/localStorage.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":2263}},{"source":"src/localStorage.ts","name":null,"original":{"line":11,"column":13},"generated":{"line":1,"column":2266}},{"source":"src/localStorage.ts","name":null,"original":{"line":11,"column":13},"generated":{"line":1,"column":2274}},{"source":"src/localStorage.ts","name":null,"original":{"line":11,"column":13},"generated":{"line":1,"column":2282}}],"sources":{"src/localStorage.ts":"import jwt_decode from \"jwt-decode\";\r\nimport Cookies from \"universal-cookie\";\r\nimport { Http } from \"rainsoft-js\";\r\n\r\nimport { ApplicationEnv } from \"./applicationEnv\";\r\n\r\nconst cookies = new Cookies();\r\nconst baseUrl: any = window.envConfig.API_BASE_URL;\r\nconst httpClient = new Http(baseUrl, \"Rainmaker2Token\");\r\n\r\nexport class LocalDB {\r\n  static getCredentials(): {\r\n    userName: string | null;\r\n    password: string | null;\r\n    employee: boolean;\r\n  } {\r\n    const credentials = {\r\n      userName: LocalDB.getLoginDevUserName(),\r\n      password: LocalDB.getLoginDevPassword(),\r\n      employee: true,\r\n    };\r\n\r\n    return credentials;\r\n  }\r\n\r\n  //#region Local DB get methods\r\n  static getAuthToken(): string | null {\r\n    return this.decodeString(localStorage.getItem(\"Rainmaker2Token\"));\r\n  }\r\n\r\n  static getRefreshToken(): string | null {\r\n    return this.decodeString(localStorage.getItem(\"Rainmaker2RefreshToken\"));\r\n  }\r\n\r\n  static getLoginDevUserName(): string | null {\r\n    return localStorage.getItem(\"devusername\");\r\n  }\r\n\r\n  static getLoginDevPassword(): string | null {\r\n    return localStorage.getItem(\"devuserpassword\");\r\n  }\r\n\r\n  static getUserPayload(): any {\r\n    const payload = this.decodeString(localStorage.getItem(\"TokenPayload\"));\r\n\r\n    if (payload) {\r\n      return JSON.parse(payload);\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  //#endregion\r\n\r\n  //#region Local DB Post Methods\r\n  static storeTokenPayload(payload: any | string | undefined): void {\r\n    if (!payload) return;\r\n\r\n    localStorage.setItem(\r\n      \"TokenPayload\",\r\n      this.encodeString(JSON.stringify(payload))\r\n    );\r\n  }\r\n\r\n  static storeAuthTokens(token: string, refreshToken: string): void {\r\n    localStorage.setItem(\"Rainmaker2Token\", this.encodeString(token));\r\n    localStorage.setItem(\r\n      \"Rainmaker2RefreshToken\",\r\n      this.encodeString(refreshToken)\r\n    );\r\n  }\r\n\r\n  static getPortalReferralUrl(): string | null {\r\n    return localStorage.getItem(\"PortalReferralUrl\");\r\n  }\r\n\r\n  static setPortalReferralUrl(portalReferralUrl: string): void {\r\n    localStorage.setItem(\"PortalReferralUrl\", portalReferralUrl);\r\n  }\r\n\r\n  public static checkAuth(): boolean | string {\r\n    const rainmaker2Token = cookies.get(\"Rainmaker2Token\");\r\n    const auth = this.getAuthToken();\r\n    if (!auth) {\r\n      return false;\r\n    }\r\n    if (rainmaker2Token) {\r\n      const decodeCacheToken: any = jwt_decode(rainmaker2Token);\r\n      const decodeAuth: any = jwt_decode(auth);\r\n      if (decodeAuth?.UserName != decodeCacheToken?.UserName) {\r\n        return false;\r\n      }\r\n      if (decodeCacheToken.exp > decodeAuth.exp) {\r\n        console.log(\"Cache token is going to validate\");\r\n        return false;\r\n      }\r\n    }\r\n\r\n    const payload = this.getUserPayload();\r\n    if (payload) {\r\n      const expiry = new Date(payload.exp * 1000);\r\n      const currentDate = new Date(Date.now());\r\n      if (currentDate < expiry) {\r\n        return true;\r\n      } else {\r\n        return \"token expired\";\r\n        // return false;\r\n        // Auth.removeAuth();\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  public static storeItem(name: string, data: string): void {\r\n    localStorage.setItem(name, this.encodeString(data));\r\n  }\r\n  //#endregion\r\n\r\n  //#region Remove Auth\r\n  static removeAuth(): void {\r\n    const items = [\"Rainmaker2Token\", \"TokenPayload\", \"Rainmaker2RefreshToken\"];\r\n    for (const item of items) {\r\n      localStorage.removeItem(item);\r\n    }\r\n  }\r\n  //#endregion\r\n\r\n  //#region Encode Decode\r\n  public static encodeString(value: string): string {\r\n    // Encode the String\r\n    //const currentDate = Date.toString();\r\n    const string = value + \"|\" + ApplicationEnv.Encode_Key;\r\n    return btoa(unescape(encodeURIComponent(string)));\r\n  }\r\n\r\n  public static decodeString(value?: string | null): string | null {\r\n    // Decode the String\r\n    if (!value) {\r\n      return \"\";\r\n    }\r\n    try {\r\n      const decodedString = atob(value);\r\n      return decodedString.split(\"|\")[0];\r\n    } catch {\r\n      return null;\r\n    }\r\n  }\r\n  //#endregion\r\n}\r\n"},"lineCount":null}},"error":null,"hash":"c92418f1ba201ccdadb67e712ea2ba4a","cacheData":{"env":{}}}